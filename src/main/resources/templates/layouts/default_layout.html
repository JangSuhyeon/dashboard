<!DOCTYPE html>
<html lagn="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8" />
    <title>Project Dashboard</title>
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, minimum-scale=1, user-scalable=yes,initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <link href="/css/style.css" rel="stylesheet">

    <th:block layout:fragment="css"></th:block>
    <th:block layout:fragment="script"></th:block>
</head>
<body>
<!-- header fragment 사용 -->
<!--<th:block th:replace="fragments/header :: headerFragment"></th:block>-->
<!-- content fragment 사용 -->
<th:block layout:fragment="content"></th:block>
<!-- footer fragment 사용 -->
<!--<th:block th:replace="fragments/footer :: footerFragment"></th:block>-->
</body>
<script>
    $(function () {
        // 토큰 값을 가져와 sessionStorage에 저장하는 함수
        function saveTokenToSessionStorage() {
            // 현재 URL에서 "token" 파라미터 값을 추출합니다.
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');

            // 토큰 값을 sessionStorage에 저장합니다.
            if (token) {
                sessionStorage.setItem('token', token);
                // 쿼리 스트링을 없애고 "/"로 이동합니다.
                history.replaceState({}, document.title, window.location.pathname);
            }
        }

        // 페이지 로드 시 토큰을 sessionStorage에 저장합니다.
        window.onload = saveTokenToSessionStorage;
    })
</script>
</html>